{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/mnt/607A0BA27A0B7456/k\\xEC 7/l\\u1EADp tr\\xECnh t\\xEDch h\\u1EE3p/app-shipper/src/containers/Account/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { Form, Input, Button } from 'antd';\nimport { STAT_URL } from '../../consts';\nconst Background = styled.div`\n    background-image: url('/img/6.jpg');\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100vh;\n    width: 100vw;\n    background-position: center;\n`;\n_c = Background;\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onFinish = values => {\n      this.login(values);\n    };\n  }\n\n  // constructor(props) {\n  //     super(props);\n  // }\n  login(values) {\n    console.log(values);\n    axios.post(`${STAT_URL}/v1/user/login`, values).then(respone => {\n      if (respone.data.error.code === 200) {\n        window.localStorage.setItem('token', `${respone.data.data}`);\n        window.dispatch({\n          type: 'LOGGED',\n          data: true\n        });\n        this.props.history.push(\"/\");\n      }\n\n      alert(\"Đăng nhập thất bại\");\n    }).catch(console.log);\n  }\n\n  onUsernameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onPasswordChange(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Background, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3 col-md-offset-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onFinish: this.onFinish,\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"username\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"password\",\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {\n                placeholder: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn btn-success\",\n                htmlType: \"submit\",\n                children: \"\\u0110\\u0103ng nh\\xE2\\u0323p\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Background\");","map":{"version":3,"sources":["/mnt/607A0BA27A0B7456/kì 7/lập trình tích hợp/app-shipper/src/containers/Account/Login.js"],"names":["React","axios","styled","Form","Input","Button","STAT_URL","Background","div","Login","Component","onFinish","values","login","console","log","post","then","respone","data","error","code","window","localStorage","setItem","dispatch","type","props","history","push","alert","catch","onUsernameChange","e","setState","username","target","value","onPasswordChange","password","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { Form, Input, Button } from 'antd';\nimport { STAT_URL } from '../../consts';\n\nconst Background = styled.div`\n    background-image: url('/img/6.jpg');\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100vh;\n    width: 100vw;\n    background-position: center;\n`;\n\n\nclass Login extends React.Component {\n    // constructor(props) {\n    //     super(props);\n    // }\n\n    login(values) {\n        console.log(values)\n        axios.post(`${STAT_URL}/v1/user/login`, values)\n            .then(\n                (respone) => {\n                    if(respone.data.error.code === 200){\n                    window.localStorage.setItem('token',`${respone.data.data}`)\n                    window.dispatch({type: 'LOGGED', data: true});\n                    this.props.history.push(\"/\");\n                    }\n                    alert(\"Đăng nhập thất bại\");\n                }\n            )\n            .catch(console.log)\n    }\n\n    onFinish = (values) => {\n        this.login(values);\n    }\n\n    onUsernameChange(e) {\n        this.setState({ username: e.target.value })\n    }\n    onPasswordChange(e) {\n        this.setState({ password: e.target.value })\n    }\n    render() {\n        return (\n            <Background>\n                <div className=\"container\">\n                    <div className=\"col-md-3 col-md-offset-4\">\n                        <span className=\"text\">Login</span>\n                        <Form onFinish={this.onFinish} >\n                            <Form.Item name='username'>\n                                <Input placeholder=\"Username\" ></Input>\n                            </Form.Item>\n                            <Form.Item name='password'>\n                                <Input.Password placeholder=\"Password\"  ></Input.Password>\n                            </Form.Item>\n                            <Form.Item>\n                                <Button className=\"btn btn-success\" htmlType='submit'>Đăng nhập</Button>\n                            </Form.Item>\n                        </Form>\n                    </div>\n                </div>\n            </Background>\n        );\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}