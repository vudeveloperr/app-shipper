{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/mnt/607A0BA27A0B7456/k\\xEC 7/l\\u1EADp tr\\xECnh t\\xEDch h\\u1EE3p/app-shipper/src/containers/Order/ListOrder.js\";\nimport React, { Component } from 'react'; // import Order from './Order'\n\nimport 'antd/dist/antd.css';\nimport { List, Avatar } from 'antd';\nimport { STAT_URL } from '../../consts';\nimport axios from 'axios';\nexport default class ListOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    let config = {\n      headers: {\n        Auth: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRob3JpemVkIjp0cnVlLCJleHAiOjE2MDg3ODQ4NzMsInR5cGUiOiIyIiwidHlwZV9pZCI6IjMifQ.p52hfb-czu67aGhK5nhm0a7K-HjTfnoToJx6xXzE02c'\n      }\n    };\n    axios.get(`${STAT_URL}/v1/listorder`, config).then(response => {\n      if (response.data.error.code === 200) {\n        this.setState({\n          data: response.data.data\n        }, () => console.log(this.state.data));\n      } else {\n        this.props.history.push(\"/\");\n      }\n    }).catch(console.log);\n  }\n\n  receiveOrder(order_id) {\n    let config = {\n      headers: {\n        Auth: window.localStorage.getItem('token')\n      }\n    };\n    axios.post(`${STAT_URL}/v1/listorder/?orderid=${order_id}`, {}, config).then(response => {\n      if (response.data.error.code === 200) {\n        if (response.data.data === true) {\n          alert(\"Nhận đơn hàng thành công\");\n        } else {\n          alert(\"Nhận đơn hàng thất bại\");\n        }\n\n        axios.get(`${STAT_URL}/v1/listorder`, config).then(response => {\n          if (response.data.error.code === 200) {\n            this.setState({\n              data: response.data.data\n            }, () => console.log(this.state.data));\n          } else {\n            this.props.history.push(\"/\");\n          }\n        }).catch(console.log);\n      } else {\n        this.props.history.push(\"/\");\n      }\n    }).catch(console.log);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(List, {\n        itemLayout: \"vertical\",\n        size: \"large\",\n        pagination: {\n          onChange: page => {\n            console.log(page);\n          },\n          pageSize: 6\n        },\n        dataSource: this.state.data,\n        renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n            title: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: [\"Ma\\u0303 \\u0111\\u01A1n:\", item.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" Danh sa\\u0301ch ha\\u0300ng:\", (item.list_food || []).map(i => /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [i.name, \",\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 38\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-bill\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ti\\u1EC1n \\u1EE9ng h\\xE0ng : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.total_amount, \"\\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tolocation\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0110i\\u1EC3m \\u0111\\u1EBFn: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"btn-nhan\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => this.receiveOrder(item.id),\n              style: {\n                border: 'none'\n              },\n              children: \"Nh\\u1EADn \\u0110\\u01A1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)]\n        }, item.title, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/mnt/607A0BA27A0B7456/kì 7/lập trình tích hợp/app-shipper/src/containers/Order/ListOrder.js"],"names":["React","Component","List","Avatar","STAT_URL","axios","ListOrder","constructor","props","state","data","componentDidMount","config","headers","Auth","get","then","response","error","code","setState","console","log","history","push","catch","receiveOrder","order_id","window","localStorage","getItem","post","alert","render","onChange","page","pageSize","item","id","list_food","map","i","name","total_amount","address","border","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import Order from './Order'\nimport 'antd/dist/antd.css'\nimport { List, Avatar } from 'antd'\n\nimport {STAT_URL} from '../../consts'\n\nimport axios from 'axios';\n\nexport default class ListOrder extends Component {\n    constructor(props){\n        super(props);\n        this.state = { data: []}\n    }\n\n    componentDidMount(){\n        let config = {headers:{Auth: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRob3JpemVkIjp0cnVlLCJleHAiOjE2MDg3ODQ4NzMsInR5cGUiOiIyIiwidHlwZV9pZCI6IjMifQ.p52hfb-czu67aGhK5nhm0a7K-HjTfnoToJx6xXzE02c'}}\n        axios.get(`${STAT_URL}/v1/listorder`,config)\n        .then((response) => {\n            if (response.data.error.code === 200){\n                this.setState({ data: response.data.data }, () => console.log(this.state.data))\n            }\n            else{\n                this.props.history.push(\"/\")\n            } \n        })\n        .catch(console.log)\n    }\n\n    receiveOrder(order_id){\n        let config = {headers:{Auth: window.localStorage.getItem('token')}}\n        axios.post(`${STAT_URL}/v1/listorder/?orderid=${order_id}`,{},config)\n        .then((response) => {\n            if (response.data.error.code === 200){\n                if(response.data.data === true){\n                    alert(\"Nhận đơn hàng thành công\");\n                }\n                else{\n                    alert(\"Nhận đơn hàng thất bại\");\n                }\n                axios.get(`${STAT_URL}/v1/listorder`,config)\n                .then((response) => {\n                    if (response.data.error.code === 200){\n                        this.setState({ data: response.data.data }, () => console.log(this.state.data))\n                    }\n                    else{\n                        this.props.history.push(\"/\")\n                    } \n                })\n                .catch(console.log)\n            }\n            else{\n                this.props.history.push(\"/\")\n            } \n        })\n        .catch(console.log)\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <List\n                    itemLayout=\"vertical\"\n                    size=\"large\"\n                    pagination={{\n                        onChange: page => {\n                            console.log(page);\n                        },\n                        pageSize: 6,\n                    }}\n                    dataSource={this.state.data}\n\n                    renderItem={item => (\n                        <List.Item key={item.title} >\n                            <List.Item.Meta\n                                title={<a>Mã đơn:{item.id}</a>}\n                            />\n                            <div> Danh sách hàng:\n                                {\n                                (item.list_food || []).map((i) => \n                                    (<span>{i.name},</span>)\n                                )}\n                            </div>\n                            <div className=\"total-bill\">\n                                <span>Tiền ứng hàng : </span>\n                                <span>{item.total_amount}đ</span>\n                            </div>\n                            <div className=\"tolocation\">\n                                <span>Điểm đến: </span>\n                                <span>{item.address}</span>\n                            </div>\n                            <div id=\"btn-nhan\">\n                                <button className=\"btn btn-danger\" onClick={() => this.receiveOrder(item.id)} style={{ border: 'none' }}>Nhận Đơn</button>\n                            </div>\n                        </List.Item>\n                    )}\n                />\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}